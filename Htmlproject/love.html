<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Muskan ğŸ’–</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;500&display=swap" rel="stylesheet">

<style>
body{
  margin:0;height:100vh;
  background:linear-gradient(135deg,#ff9aa2,#ff6f91,#ffc1cc);
  display:flex;justify-content:center;align-items:center;
  font-family:'Poppins',sans-serif;overflow:hidden;
}

/* start */
#startBtn{
  position:fixed;top:15px;right:15px;z-index:10;
  background:#ff4d6d;color:white;border:none;border-radius:30px;
  padding:10px 18px;cursor:pointer;
  box-shadow:0 0 15px rgba(255,77,109,.8);
}

/* loading + intro */
#loading,#intro{
  position:absolute;color:white;text-align:center;
  font-family:Pacifico,cursive;display:none;
}
#loading{font-size:22px;}
#intro{font-size:46px;text-shadow:0 0 20px #ff85a1;animation:beat 1.5s infinite;}
#dots::after{content:"";animation:dots 1.5s infinite;}
@keyframes dots{0%{content:""}33%{content:"."}66%{content:".."}100%{content:"..."}}
@keyframes beat{50%{transform:scale(1.15);}}

/* card */
.card{
  background:rgba(255,255,255,.95);
  padding:30px;border-radius:25px;
  width:90%;max-width:400px;text-align:center;
  box-shadow:0 15px 40px rgba(0,0,0,.3);
  display:none;
}

/* teddy */
#teddy{width:160px}

/* text */
#text{
  min-height:95px;font-size:17px;
  color:#ff2f68;
}

/* question */
#question{
  font-family:Pacifico,cursive;font-size:28px;
  color:#ff2f68;
  display:none;
  animation:beat 1.5s infinite;
}

/* buttons initial layout */
.btn-row{
  display:flex;
  justify-content:center;
  gap:20px;
  margin-top:15px;
}

.choice{
  padding:10px 22px;
  border:none;
  border-radius:20px;
  cursor:pointer;
  display:none;
  font-size:15px;
  width:100px;
}

.yes{background:#ff4d6d;color:white;}
.no{background:#eee;}

/* effects */
.heart{
  position:absolute;bottom:-20px;font-size:20px;
  animation:float 6s linear infinite;
}
@keyframes float{to{transform:translateY(-120vh);opacity:0;}}

.fire{position:absolute;font-size:26px;animation:boom 1s ease-out forwards;}
@keyframes boom{to{transform:translate(var(--x),var(--y)) scale(0);opacity:0;}}

.tear{position:absolute;font-size:18px;animation:tear 1.5s linear forwards;}
@keyframes tear{to{transform:translateY(80px);opacity:0;}}
</style>
</head>

<body>

<button id="startBtn" onclick="startFlow()">Click Me ğŸ’–</button>

<div id="loading">Preparing something special for you Muskan<span id="dots"></span></div>
<div id="intro">Hey Muskanâ€¦ ğŸ’–</div>

<audio id="bgMusic"><source src="music.mp3" type="audio/mpeg"></audio>

<div class="card" id="card">
  <img id="teddy" src="teddy-normal.jpeg">
  <div id="text"></div>
  <div id="question">Do you love me? ğŸ˜</div>

  <div class="btn-row" id="btnRow">
    <button class="choice yes" id="yesBtn" onclick="yesClick()">Yes ğŸ’•</button>
    <button class="choice no" id="noBtn">No ğŸ™ˆ</button>
  </div>
</div>

<script>
const loading=document.getElementById("loading");
const intro=document.getElementById("intro");
const card=document.getElementById("card");
const textDiv=document.getElementById("text");
const question=document.getElementById("question");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const btnRow=document.getElementById("btnRow");
const teddy=document.getElementById("teddy");
const music=document.getElementById("bgMusic");

/* start */
function startFlow(){
 music.play().catch(()=>{});
 startBtn.style.display="none";
 document.body.style.background="black";
 loading.style.display="block";

 setTimeout(()=>{loading.style.display="none";intro.style.display="block";},2000);
 setTimeout(()=>{
   intro.style.display="none";
   document.body.style.background="linear-gradient(135deg,#ff9aa2,#ff6f91,#ffc1cc)";
   card.style.display="block";
   typeLine();
 },4000);
}

/* typing */
let lines=[
 "I made this only for you ğŸ¥ºğŸ’—",
 "Because you are very special to me ğŸ’•",
 "Every smile of yours means everything to me ğŸ’–",
 "So my heart wants to ask you one thing ğŸ«¶"
];
let i=0,j=0;

function typeLine(){
 if(i<lines.length){
  if(j<lines[i].length){
   textDiv.innerHTML+=lines[i][j++];setTimeout(typeLine,40);
  }else{textDiv.innerHTML+="<br>";i++;j=0;setTimeout(typeLine,500);}
 }else{
  question.style.display="block";
  yesBtn.style.display=noBtn.style.display="inline-block";
 }
}

/* NO logic */
let noCount=0;
let msgs=[
 "Please think again naaa ğŸ¥º",
 "My teddy is crying now ğŸ’”",
 "Donâ€™t break my heart, chipkali ğŸ§¸ğŸ’",
 "Remember our moments together ğŸ˜­ğŸ’–"
];

noBtn.addEventListener("click",()=>{
 teddy.src="teddy-sad.gif";
 makeTears();
 question.innerText = msgs[Math.min(noCount,msgs.length-1)];
 noCount++;

 if(noCount>=msgs.length){
   finalNoMode();
 }
});

/* FINAL MODE */
function finalNoMode(){

  /* center YES */
  btnRow.style.justifyContent="center";
  yesBtn.style.margin="0 auto";

  /* free NO from layout */
  const rect = noBtn.getBoundingClientRect();
  noBtn.style.position="fixed";
  noBtn.style.left = rect.left+"px";
  noBtn.style.top  = rect.top+"px";

  noBtn.addEventListener("mouseover",()=>{
    const maxX = window.innerWidth - noBtn.offsetWidth - 10;
    const maxY = window.innerHeight - noBtn.offsetHeight - 10;

    noBtn.style.left = Math.random()*maxX + "px";
    noBtn.style.top  = Math.random()*maxY + "px";
  });
}

/* tears */
function makeTears(){
 for(let i=0;i<3;i++){
  let t=document.createElement("div");
  t.className="tear";t.innerHTML="ğŸ’§";
  t.style.left=(window.innerWidth/2+Math.random()*30-15)+"px";
  t.style.top=(window.innerHeight/2-60)+"px";
  document.body.appendChild(t);
  setTimeout(()=>t.remove(),1500);
 }
}

/* YES */
function yesClick(){
 teddy.src="teddy-hug.gif";
 fireworks();

 setTimeout(()=>{
  card.innerHTML=`
   <img src="teddy-happy.gif" width="180"><br>
   <div style="font-family:Pacifico,cursive;font-size:30px;color:#ff2f68">
     I Love You So Much Muskan ğŸ’–ğŸ˜­
   </div>
   <p>You just made my whole world brighter â¤ï¸</p>
   <p>Always stay with me, okay? ğŸ’«</p>`;
 },1200);
}

/* fireworks */
function fireworks(){
 for(let i=0;i<35;i++){
  let f=document.createElement("div");
  f.className="fire";f.innerHTML="ğŸ†";
  f.style.left="50%";f.style.top="50%";
  f.style.setProperty("--x",(Math.random()*400-200)+"px");
  f.style.setProperty("--y",(Math.random()*400-200)+"px");
  document.body.appendChild(f);
  setTimeout(()=>f.remove(),1000);
 }
}

/* floating hearts */
setInterval(()=>{
 let h=document.createElement("div");
 h.className="heart";h.innerHTML="ğŸ’–";
 h.style.left=Math.random()*100+"vw";
 document.body.appendChild(h);
 setTimeout(()=>h.remove(),6000);
},400);
</script>

</body>
</html>